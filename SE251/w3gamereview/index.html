
<html>
<title>Game Reviews</title>
<head>
        <link rel="stylesheet" type="text/css" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
		<style type='text/css'>
			.imgframe   { background:black; padding:12px; border:1px solid #999; }
		</style>
</head>
<body>

    

<div class="container">
	<div class="row">
		<div class='col-md-8'>
			<h1>Game Reviews</h1>
			
			
			<table class="table table-striped">
			<thead>
			  <tr>
				<th>Game Title</th>
				<th>Console</th>
				<th>Rating</th>
				<th>Score</th>
			  </tr>
			</thead>
			<tbody id="reviewsBody">
			   
			   
				
			</tbody>
		  </table>
	  </div>
	 
	  <div class='col-md-4' style='margin-top:250px;'>
		<h2 id="gameTitle"></h2>
			<img id='gameImage'  src=''>
	  </div>
	</div>
</div>

</body>
</html>

<script>
	
	jsonInfoReviews = '[{"gameID":9,"gameTitle":"Overwatch","consoles":"PS4, XboxOne, PC","rating":"T","score":5,"imageName":"Overwatch.jpg"},{"gameID":10,"gameTitle":"Civilization VI","consoles":"PC","rating":"E10+","score":5,"imageName":"civ6.jpg"},{"gameID":11,"gameTitle":"NBA 2K17","consoles":"PS4, XboxOne, PC","rating":"E","score":5,"imageName":"NBA2k17.jpg"},{"gameID":12,"gameTitle":"TitanFall 2","consoles":"PS4, XboxOne, PC","rating":"M","score":5,"imageName":"Titanfall2.jpg"},{"gameID":13,"gameTitle":"Uncharted 4: A Thief`s End","consoles":"PS4","rating":"T","score":5,"imageName":"Uncharted4.jpg"},{"gameID":14,"gameTitle":"XCom 2","consoles":"PS4, XboxOne, PC","rating":"T","score":5,"imageName":"Xcom2.jpg"},{"gameID":15,"gameTitle":"Battlefield 1","consoles":"PS4, XboxOne, PC","rating":"M","score":5,"imageName":"Battlefield1.jpg"},{"gameID":16,"gameTitle":"Dark Souls 3","consoles":"PS4, XboxOne, PC","rating":"M","score":5,"imageName":"DarkSouls3.jpg"},{"gameID":17,"gameTitle":"Dishonored 2","consoles":"PS4, XboxOne, PC","rating":"M","score":5,"imageName":"DisHonored2.jpg"},{"gameID":18,"gameTitle":"Fire Emblem Fates: Conquest","consoles":"3DS","rating":"T","score":4,"imageName":"FireEmblemFates.jpg"},{"gameID":19,"gameTitle":"Forza Horizon 3","consoles":"XboxOne, PC","rating":"E","score":5,"imageName":"ForzaHorizon3.jpg"},{"gameID":20,"gameTitle":"Gears of War 4","consoles":"XboxOne, PC","rating":"M","score":5,"imageName":"GearsofWar4.jpg"},{"gameID":21,"gameTitle":"Call of Duty: Infinite Warfare","consoles":"XboxOne, PC","rating":"M","score":5,"imageName":"CoDIW.jpg"},{"gameID":22,"gameTitle":"Dead Rising 4","consoles":"XboxOne","rating":"M","score":5,"imageName":"DeadRising4.jpg"},{"gameID":23,"gameTitle":"Doom","consoles":"XboxOne, PC","rating":"T","score":5,"imageName":"Doom.jpg"},{"gameID":24,"gameTitle":"FIFA 17","consoles":"XboxOne, PC","rating":"E","score":5,"imageName":"FIFA17.jpg"},{"gameID":25,"gameTitle":"Madden NFL 17","consoles":"PS4, XboxOne, PC","rating":"E","score":4,"imageName":"Madden17.jpg"}]';
	
	reviews = JSON.parse(jsonInfoReviews);
	
	var tbody = document.querySelector(`#reviewsBody`)
	var str=``
	var imgArray = []

	for (i = 0; i < reviews.length; i++)
	{
		str += `<tr>`
		
		for(index in reviews[i])
		{
			if (index != `imageName` && index != `gameID`)
			{
				str += `<td>`
				if (index == "gameTitle")
				{
					str += "<a class='reviews' data-img='" + reviews[i]["imageName"] + "'>"
				}

				str += reviews[i][index]

				if(index == "gameTitle")
				{
					str += "</a>"
				}

				str +=  " </td>"
			}
		}
		str += "</tr>"
	}
	tbody.innerHTML = str

	img = document.querySelectorAll(`.reviews`)

	console.log(img)


	for(let i = 0; i < img.length; i++)
	{
		img[i].addEventListener("click", selectReview)
	}

	function selectReview()
	{
		document.querySelector(`#gameImage`).src = "images/" + this.dataset.img
		document.querySelector(`#gameTitle`).innerText = this.text
	}
	
</script>
